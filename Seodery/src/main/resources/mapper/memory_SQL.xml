<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memory">
	<select id="getMSCnt" parameterType="hashmap" resultType="Integer">
		SELECT COUNT(*) AS CNT
		FROM MS
		WHERE DELC = 1			
	</select>
		

	<select id="getmemoryList" parameterType="hashmap" resultType="hashmap">		
		SELECT  TITLE, PLACE
		FROM (SELECT  M.TITLE, PLACE, M.CON,
				TO_CHAR(M.REGISTER_DT, 'YYYY-MM-DD') AS REGISTER_DT, P.PICT_NM,
				ROW_NUMBER() OVER(ORDER BY M.MY_NUM DESC) AS RNUM
		FROM MS M INNER JOIN MP P 
                  ON M.MY_NUM = P.MY_NUM
		WHERE M.DELC = 1
		) MS
		WHERE RNUM BETWEEN #{startCnt} AND #{endCnt}
	</select>
















</mapper>